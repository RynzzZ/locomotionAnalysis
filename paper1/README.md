Scripts in this folder can be used to create the figures for the first paper.




## notes on data analysis
- `getKinematicData`:
- `getExperimentData`:
- `getDvMatrix`
- `flattenData`:
- `barFancy`:

## how to make figures
- In the `paper1` folder, use the scripts `baselineFigs`, `baselineDecision`, `sensoryDependenceFigs`, `manipulationFigs`, and `whiskerTrimFigs` to make figures for the paper.
- There are code blocks in each script that generate and save `.svg` files that can be loaded in illustrator.
- Comments will denote which specific figures are being made (e.g. `(figures f3d)` means Figure 3D is generated by this code block).

## decision-making hyperparameters
Different hyperparameters are appropriate for different decision making plots. Here they are broken down by plot type:
```
                    (modSwingContactMax, deltaMin, successOnly, modPawOnlySwing, lightOffOnly)
heatmaps:           (no max [0], no min [0], false, true, false)
trial scatters:     (no max [0], no min [0], false, true, false)  *except deltaMin=.0025 for f3b
models:             (no max [0], .0025,      false, true, false)
binned kinematics:  (no max [0], .0025,      false, true, false)
```

## figure formatting
- font size 6 for axis labels
- font size 10 for subplot letters, all caps
- Arial

## exporting to PNG in batch
- you can record actions in illustrator then execute them as batch scripts
- follow [these](https://community.adobe.com/t5/illustrator/adobe-sufferer-how-to-batch-convert-ai-to-png/td-p/9260013?page=1) instructions to export all figures as PNG in batches
- when copying and pasting the PNGs into Word they retain their actual size, which is nice (as opposed to automatically filling up the width of the page, which could give misleading impressions about the appropriatenes of font sizes, etc.)

## making videos
Use `paper1\paper1Figs.mat` to make vids for the paper.


#### outline
1. [X] setup example
  - `makeSetupExampleVid()`
  - vids: rigAnimation // setupExample
2. [X] tracking example
  - `makeVid()`
  - vids: trackingExample
3. [X] high speeds obs
  - `makeVid()`
  - vids: highSpeedObstacleClearance // highSpeedObstacleClearance_slowDown // highSpeedObstacleClearance_unheadfixed
4. [X] unheadfixation
  - `makeVidUnheadfixed()`
  - matlab vids: trackingUnheadfixed
5. sensory dependence
  - one vid, all conditions, with explanatory text
6. decision making
  - `makeDecisionVid()`
  - vids: decision
7. barrels [makevid]
  - one vid, pre, post early, post late
8. mtc [makevid]
  - one vid for lesion, mus
  - for both show pre, post
9. matched [maketrialpairsvid]
  - one vid mus, les
  - matched for at wisk contact stuff
  - show slow mo but with no pauses at whisker contact
  - top row control, bottom row manip
